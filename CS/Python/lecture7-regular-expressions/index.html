
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Jack Cheng的个人网站">
      
      
        <meta name="author" content="Jack Cheng">
      
      
        <link rel="canonical" href="https://learning.jackcheng.chat/CS/Python/lecture7-regular-expressions/">
      
      
        <link rel="prev" href="../lecture6-file-io/">
      
      
        <link rel="next" href="../lecture8-Object-oriented-programming/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.44">
    
    
      
        <title>CS50P-Lecture7-ReGex - JackCheng的CS 学习网站</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.css">
    
      <link rel="stylesheet" href="../../../mkdocs/css/no-footer.css">
    
      <link rel="stylesheet" href="../../../mkdocs/css/unordered-list-symbols.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#lecture-7" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="JackCheng的CS 学习网站" class="md-header__button md-logo" aria-label="JackCheng的CS 学习网站" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            JackCheng的CS 学习网站
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              CS50P-Lecture7-ReGex
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="orange"  aria-label="切换至夜间模式"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="切换至夜间模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="orange"  aria-label="切换至日间模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="切换至日间模式" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/anzchy/learning.jackcheng.chat" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    learning.jackcheng.chat
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../ME/" class="md-tabs__link">
          
  
    
  
  我

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
    
  
  CS笔记

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../Family-Education/" class="md-tabs__link">
          
  
    
  
  家庭建设

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../Writing/" class="md-tabs__link">
          
  
    
  
  写作

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../Reproduce/" class="md-tabs__link">
          
  
    
  
  转载

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../WEBSITE/" class="md-tabs__link">
          
  
    
  
  网站

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="JackCheng的CS 学习网站" class="md-nav__button md-logo" aria-label="JackCheng的CS 学习网站" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    JackCheng的CS 学习网站
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/anzchy/learning.jackcheng.chat" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    learning.jackcheng.chat
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../ME/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    我
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            我
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ME/introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    个人介绍
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ME/contact/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    个人联系方式
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ME/account/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    个人公众账号
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ME/ability/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    个人能力
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ME/business-trip-necessities/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    出差必备物品
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ME/support/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    打赏支持
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    CS笔记
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            CS笔记
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Chatgpt/ChatGPT_Cookbook/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ChatGPT
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Excel/Excel-Cheatsheet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Excel
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" checked>
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Python
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Python-Notes-202410/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Lecture0-introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CS50P-Lecture0-Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Lecture1-Conditionals/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CS50P-Lecture1-Conditionals
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lecture2-Loops/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CS50P-Lecture2-Loops
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Lecture3-Exceptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CS50P-Lecture3-Exceptions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Lecture4-Libraries/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CS50P-Lecture4-Libraries
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Lecture5-Unittest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CS50P-Lecture5-Unittest
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lecture6-file-io/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CS50P-Lecture6-File-IO
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    CS50P-Lecture7-ReGex
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    CS50P-Lecture7-ReGex
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#regular-expressions" class="md-nav__link">
    <span class="md-ellipsis">
      Regular Expressions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#case-sensitivity" class="md-nav__link">
    <span class="md-ellipsis">
      Case Sensitivity
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cleaning-up-user-input" class="md-nav__link">
    <span class="md-ellipsis">
      Cleaning Up User Input
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extracting-user-input" class="md-nav__link">
    <span class="md-ellipsis">
      Extracting User Input
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summing-up" class="md-nav__link">
    <span class="md-ellipsis">
      Summing Up
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lecture8-Object-oriented-programming/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CS50P-Lecture8-OoP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lecture9-et-cetera/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CS50P-Lecture9-et-cetera
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Regex
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            Regex
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Regex/RegexBuddy-tutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Regex-Buddy教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Regex/regex-cheatsheet-examples/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    正则表达式
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Shell%20/Shell_command_cookbook/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Shell
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Vim/vim-cheatsheet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vim
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Family-Education/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    家庭建设
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            家庭建设
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Family-Education/must-do-list-for-parents/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    子女成长各阶段家长必做
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    英语
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            英语
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Family-Education/English/reading-list-for-each-stage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    孩子各阶段书单
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Family-Education/English/pronunciation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    英语发音
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Writing/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    写作
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            写作
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Reproduce/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    转载
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            转载
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../WEBSITE/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    网站
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            网站
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../WEBSITE/build/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    网站构建说明
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../WEBSITE/help/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    文章编写帮助
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../WEBSITE/test/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    测试文档
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#regular-expressions" class="md-nav__link">
    <span class="md-ellipsis">
      Regular Expressions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#case-sensitivity" class="md-nav__link">
    <span class="md-ellipsis">
      Case Sensitivity
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cleaning-up-user-input" class="md-nav__link">
    <span class="md-ellipsis">
      Cleaning Up User Input
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extracting-user-input" class="md-nav__link">
    <span class="md-ellipsis">
      Extracting User Input
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summing-up" class="md-nav__link">
    <span class="md-ellipsis">
      Summing Up
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/anzchy/learning.jackcheng.chat/edit/main/docs/CS/Python/lecture7-regular-expressions.md" title="编辑此页" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="lecture-7"><a href="https://cs50.harvard.edu/python/2022/notes/7/#lecture-7">Lecture 7</a><a class="headerlink" href="#lecture-7" title="Permanent link">&para;</a></h1>
<ul>
<li><a href="https://cs50.harvard.edu/python/2022/notes/7/#regular-expressions">Regular Expressions</a></li>
<li><a href="https://cs50.harvard.edu/python/2022/notes/7/#case-sensitivity">Case Sensitivity</a></li>
<li><a href="https://cs50.harvard.edu/python/2022/notes/7/#cleaning-up-user-input">Cleaning Up User Input</a></li>
<li><a href="https://cs50.harvard.edu/python/2022/notes/7/#extracting-user-input">Extracting User Input</a></li>
<li><a href="https://cs50.harvard.edu/python/2022/notes/7/#summing-up">Summing Up</a></li>
</ul>
<h2 id="regular-expressions"><a href="https://cs50.harvard.edu/python/2022/notes/7/#regular-expressions">Regular Expressions</a><a class="headerlink" href="#regular-expressions" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p>Regular expressions or “regexes” will enable us to examine patterns within our code. For example, we might want to validate that an email address is formatted correctly. Regular expressions will enable us to examine expressions in this fashion.</p>
</li>
<li></li>
</ul>
<p>To begin, type</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-0-1">code validate.py
</span></code></pre></div></td></tr></table></div>
<p>in the terminal window. Then, code as follows in the text editor:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-1-1">email = input(&quot;What&#39;s your email? &quot;).strip()
</span><span id="__span-1-2">
</span><span id="__span-1-3">if &quot;@&quot; in email:
</span><span id="__span-1-4">    print(&quot;Valid&quot;)
</span><span id="__span-1-5">else:
</span><span id="__span-1-6">    print(&quot;Invalid&quot;)
</span></code></pre></div></td></tr></table></div>
<p>Notice that <code>strip</code> will remove whitespace at the beginning or end of the input. Running this program, you will see that as long as an <code>@</code> symbol is inputted, the program will regard the input as valid.</p>
<ul>
<li></li>
</ul>
<p>You can imagine, however, that one could input</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-2-1">@@
</span></code></pre></div></td></tr></table></div>
<p>alone and the input could be regarded as valid. We could regard an email address as having at least one</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-3-1">@
</span></code></pre></div></td></tr></table></div>
<p>and a</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-4-1">.
</span></code></pre></div></td></tr></table></div>
<p>somewhere within it. Modify your code as follows:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-5-1">email = input(&quot;What&#39;s your email? &quot;).strip()
</span><span id="__span-5-2">
</span><span id="__span-5-3">if &quot;@&quot; in email and &quot;.&quot; in email:
</span><span id="__span-5-4">    print(&quot;Valid&quot;)
</span><span id="__span-5-5">else:
</span><span id="__span-5-6">    print(&quot;Invalid&quot;)
</span></code></pre></div></td></tr></table></div>
<p>Notice that while this works as expected, our user could be adversarial, typing simply <code>@.</code> would result in the program returning <code>valid</code>.</p>
<ul>
<li></li>
</ul>
<p>We can improve the logic of our program as follows:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-6-1">email = input(&quot;What&#39;s your email? &quot;).strip()
</span><span id="__span-6-2">
</span><span id="__span-6-3">username, domain = email.split(&quot;@&quot;)
</span><span id="__span-6-4">
</span><span id="__span-6-5">if username and &quot;.&quot; in domain:
</span><span id="__span-6-6">    print(&quot;Valid&quot;)
</span><span id="__span-6-7">else:
</span><span id="__span-6-8">    print(&quot;Invalid&quot;)
</span></code></pre></div></td></tr></table></div>
<p>Notice how the <code>strip</code> method is used to determine if <code>username</code> exists and if <code>.</code> is inside the <code>domain</code> variable. Running this program, a standard email address typed in by you could be considered <code>valid</code>. Typing in <code>malan@harvard</code> alone, you’ll find that the program regards this input as <code>invalid</code>.</p>
<ul>
<li></li>
</ul>
<p>We can be even more precise, modifying our code as follows:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-7-1">email = input(&quot;What&#39;s your email? &quot;).strip()
</span><span id="__span-7-2">
</span><span id="__span-7-3">username, domain = email.split(&quot;@&quot;)
</span><span id="__span-7-4">
</span><span id="__span-7-5">if username and domain.endswith(&quot;.edu&quot;):
</span><span id="__span-7-6">    print(&quot;Valid&quot;)
</span><span id="__span-7-7">else:
</span><span id="__span-7-8">    print(&quot;Invalid&quot;)
</span></code></pre></div></td></tr></table></div>
<p>Notice how the <code>endswith</code> method will check to see if <code>domain</code> contains <code>.edu</code>. Still, however, a nefarious user could still break our code. For example, a user could type in <code>malan@.edu</code> and it would be considered valid.</p>
<ul>
<li>
<p>Indeed, we could keep iterating upon this code ourselves. However, it turns out that Python has an existing library called <code>re</code> that has a number of built-in functions that can validate user inputs against patterns.</p>
</li>
<li>
<p>One of the most versatile functions within the library <code>re</code> is <code>search</code>.</p>
</li>
<li></li>
</ul>
<p>The</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-8-1">search
</span></code></pre></div></td></tr></table></div>
<p>library follows the signature</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-9-1">re.search(pattern, string, flags=0)
</span></code></pre></div></td></tr></table></div>
<p>. Following this signature, we can modify our code as follows:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-10-1">import re
</span><span id="__span-10-2">
</span><span id="__span-10-3">email = input(&quot;What&#39;s your email? &quot;).strip()
</span><span id="__span-10-4">
</span><span id="__span-10-5">if re.search(&quot;@&quot;, email):
</span><span id="__span-10-6">    print(&quot;Valid&quot;)
</span><span id="__span-10-7">else:
</span><span id="__span-10-8">    print(&quot;Invalid&quot;)
</span></code></pre></div></td></tr></table></div>
<p>Notice this does not increase the functionality of our program at all. In fact, it is somewhat a step back.</p>
<ul>
<li></li>
</ul>
<p>We can further our program’s functionality. However, we need to advance our vocabulary around <code>validation</code>. It turns out that in the world of regular expressions there are certain symbols that allow us to identify patterns. At this point, we have only been checking for specific pieces of text like <code>@</code>. It so happens that many special symbols can be passed to the compiler for the purpose of engaging in validation. A non-exhaustive list of those patterns is as follows:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-11-1">.   any character except a new line
</span><span id="__span-11-2">*   0 or more repetitions
</span><span id="__span-11-3">+   1 or more repetitions
</span><span id="__span-11-4">?   0 or 1 repetition
</span><span id="__span-11-5">{m} m repetitions
</span><span id="__span-11-6">{m,n} m-n repetitions
</span></code></pre></div></td></tr></table></div>
<ul>
<li></li>
</ul>
<p>Implementing this inside of our code, modify yours as follows:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-12-1">import re
</span><span id="__span-12-2">
</span><span id="__span-12-3">email = input(&quot;What&#39;s your email? &quot;).strip()
</span><span id="__span-12-4">
</span><span id="__span-12-5">if re.search(&quot;.+@.+&quot;, email):
</span><span id="__span-12-6">    print(&quot;Valid&quot;)
</span><span id="__span-12-7">else:
</span><span id="__span-12-8">    print(&quot;Invalid&quot;)
</span></code></pre></div></td></tr></table></div>
<p>Notice that we don’t care what the username or domain is. What we care about is the pattern. <code>.+</code> is used to determine if anything is to the left of the email address and if anything is to the right of the email address. Running your code, typing in <code>malan@</code>, you’ll notice that the input is regarded as <code>invalid</code> as we would hope.</p>
<ul>
<li></li>
</ul>
<p>Had we used a regular expression <code>.*@.*</code> in our code above, you can visualize this as follows: <img alt="State Machine." src="https://cs50.harvard.edu/python/2022/notes/7/cs50pWeek7Slide8.png" /></p>
<p>Notice the depiction of the <code>state machine</code> of our regular expression. On the left, the compiler begins evaluating the statement from left to right. Once we reach <code>q1</code> or question 1, the compiler reads time and time again based on the expression handed to it. Then, the state is changed looking now at <code>q2</code> or the second question being validated. Again, the arrow indicates how the expression will be evaluated time and time again based upon our programming. Then, as depicted by the double circle, the final state of state machine is reached.</p>
<ul>
<li></li>
</ul>
<p>Considering the regular expression we used in our code, <code>.+@.+</code>, you can visualize it as follows: <img alt="State Machine." src="https://cs50.harvard.edu/python/2022/notes/7/cs50pWeek7Slide10.png" /></p>
<p>Notice how <code>q1</code> is any character provided by the user, including ‘q2’ as 1 or more repetitions of characters. This is followed by the ‘@’ symbol. Then, <code>q3</code> looks for any character provided by the user, including <code>q4</code> as 1 or more repetitions of characters.</p>
<ul>
<li>
<p>The <code>re</code> and <code>re.search</code> functions and ones like them look for patterns.</p>
</li>
<li></li>
</ul>
<p>Continuing our improvement of this code, we could improve our code as follows:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-13-1">import re
</span><span id="__span-13-2">
</span><span id="__span-13-3">email = input(&quot;What&#39;s your email? &quot;).strip()
</span><span id="__span-13-4">
</span><span id="__span-13-5">if re.search(&quot;.+@.+.edu&quot;, email):
</span><span id="__span-13-6">    print(&quot;Valid&quot;)
</span><span id="__span-13-7">else:
</span><span id="__span-13-8">    print(&quot;Invalid&quot;)
</span></code></pre></div></td></tr></table></div>
<p>Notice, however, that one could type in <code>malan@harvard?edu</code> and it could be considered valid. Why is this the case? You might recognize that in the language of validation, a <code>.</code> means any character!</p>
<ul>
<li></li>
</ul>
<p>We can modify our code as follows:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-14-1">import re
</span><span id="__span-14-2">
</span><span id="__span-14-3">email = input(&quot;What&#39;s your email? &quot;).strip()
</span><span id="__span-14-4">
</span><span id="__span-14-5">if re.search(r&quot;.+@.+\.edu&quot;, email):
</span><span id="__span-14-6">    print(&quot;Valid&quot;)
</span><span id="__span-14-7">else:
</span><span id="__span-14-8">    print(&quot;Invalid&quot;)
</span></code></pre></div></td></tr></table></div>
<p>Notice how we utilize the “escape character” or <code>\</code> as a way of regarding the <code>.</code> as part of our string instead of our validation expression. Testing your code, you will notice that <code>malan@harvard.edu</code> is regarded as valid, where <code>malan@harvard?edu</code> is invalid.</p>
<ul>
<li></li>
</ul>
<p>Now that we’re using escape characters, it’s a good time to introduce “raw strings”. In Python, raw strings are strings that</p>
<p>don’t</p>
<p>format special characters—instead, each character is taken at face-value. Imagine</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-15-1">\n
</span></code></pre></div></td></tr></table></div>
<p>, for example. We’ve seen in an earlier lecture how, in a regular string, these two characters become one: a special newline character. In a raw string, however,</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-16-1">\n
</span></code></pre></div></td></tr></table></div>
<p>is treated not as</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-17-1">\n
</span></code></pre></div></td></tr></table></div>
<p>, the special character, but as a single</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-18-1">\
</span></code></pre></div></td></tr></table></div>
<p>and a single</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-19-1">n
</span></code></pre></div></td></tr></table></div>
<p>. Placing an</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-20-1">r
</span></code></pre></div></td></tr></table></div>
<p>in front of a string tells the Python interpreter to treat the string as a raw string, similar to how placing an</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-21-1">f
</span></code></pre></div></td></tr></table></div>
<p>in front of a string tells the Python interpreter to treat the string as a format string:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-22-1">import re
</span><span id="__span-22-2">
</span><span id="__span-22-3">email = input(&quot;What&#39;s your email? &quot;).strip()
</span><span id="__span-22-4">
</span><span id="__span-22-5">if re.search(r&quot;^.+@.+\.edu$&quot;, email):
</span><span id="__span-22-6">    print(&quot;Valid&quot;)
</span><span id="__span-22-7">else:
</span><span id="__span-22-8">    print(&quot;Invalid&quot;)
</span></code></pre></div></td></tr></table></div>
<p>Now we’ve ensured the Python interpreter won’t treat <code>\.</code> as a special character. Instead, simply as a <code>\</code> followed by a <code>.</code>—which, in regular expression terms, means matching a literal “.”.</p>
<ul>
<li>
<p>You can imagine still how our users could create problems for us! For example, you could type in a sentence such as <code>My email address is malan@harvard.edu.</code> and this whole sentence would be considered valid. We can be even more precise in our coding.</p>
</li>
<li></li>
</ul>
<p>It just so happens we have more special symbols at our disposal in validation:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-23-1">^   matches the start of the string
</span><span id="__span-23-2">$   matches the end of the string or just before the newline at the end of the string
</span></code></pre></div></td></tr></table></div>
<ul>
<li></li>
</ul>
<p>We can modify our code using our added vocabulary as follows:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-24-1">import re
</span><span id="__span-24-2">
</span><span id="__span-24-3">email = input(&quot;What&#39;s your email? &quot;).strip()
</span><span id="__span-24-4">
</span><span id="__span-24-5">if re.search(r&quot;^.+@.+\.edu$&quot;, email):
</span><span id="__span-24-6">    print(&quot;Valid&quot;)
</span><span id="__span-24-7">else:
</span><span id="__span-24-8">    print(&quot;Invalid&quot;)
</span></code></pre></div></td></tr></table></div>
<p>Notice this has the effect of looking for this exact pattern matching to the start and end of the expression being validated. Typing in a sentence such as <code>My email address is malan@harvard.edu.</code> now is regarded as invalid.</p>
<ul>
<li>
<p>We propose we can do even better! Even though we are now looking for the username at the start of the string, the <code>@</code> symbol, and the domain name at the end, we could type in as many <code>@</code> symbols as we wish! <code>malan@@@harvard.edu</code> is considered valid!</p>
</li>
<li></li>
</ul>
<p>We can add to our vocabulary as follows:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-25-1">[]    set of characters
</span><span id="__span-25-2">[^]   complementing the set
</span></code></pre></div></td></tr></table></div>
<ul>
<li></li>
</ul>
<p>Using these newfound abilities, we can modify our expression as follows:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-26-1">import re
</span><span id="__span-26-2">
</span><span id="__span-26-3">email = input(&quot;What&#39;s your email? &quot;).strip()
</span><span id="__span-26-4">
</span><span id="__span-26-5">if re.search(r&quot;^[^@]+@[^@]+\.edu$&quot;, email):
</span><span id="__span-26-6">    print(&quot;Valid&quot;)
</span><span id="__span-26-7">else:
</span><span id="__span-26-8">    print(&quot;Invalid&quot;)
</span></code></pre></div></td></tr></table></div>
<p>Notice that <code>^</code> means to match at the start of the string. All the way at the end of our expression, <code>$</code> means to match at the end of the string. <code>[^@]+</code> means any character except an <code>@</code>. Then, we have a literal <code>@</code>. <code>[^@]+\.edu</code> means any character except an <code>@</code> followed by an expression ending in <code>.edu</code>. Typing in <code>malan@@@harvard.edu</code> is now regarded as invalid.</p>
<ul>
<li></li>
</ul>
<p>We can still improve this regular expression further. It turns out there are certain requirements for what an email address can be! Currently, our validation expression is far too accomodating. We might only want to allow for characters normally used in a sentence. We can modify our code as follows:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-27-1">import re
</span><span id="__span-27-2">
</span><span id="__span-27-3">email = input(&quot;What&#39;s your email? &quot;).strip()
</span><span id="__span-27-4">
</span><span id="__span-27-5">if re.search(r&quot;^[a-zA-Z0-9_]+@[a-zA-Z0-9_]+\.edu$&quot;, email):
</span><span id="__span-27-6">    print(&quot;Valid&quot;)
</span><span id="__span-27-7">else:
</span><span id="__span-27-8">    print(&quot;Invalid&quot;)
</span></code></pre></div></td></tr></table></div>
<p>Notice that <code>[a-zA-Z0-9_]</code> tells the validation that characters must be between <code>a</code> and <code>z</code>, between <code>A</code> and <code>Z</code>, between <code>0</code> and <code>9</code> and potentially include an <code>_</code> symbol. Testing the input, you’ll find that many potential user mistakes can be indicated.</p>
<ul>
<li></li>
</ul>
<p>Thankfully, common patterns have been built into regular expressions by hard-working programmers. In this case, you can modify your code as follows:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-28-1">import re
</span><span id="__span-28-2">
</span><span id="__span-28-3">email = input(&quot;What&#39;s your email? &quot;).strip()
</span><span id="__span-28-4">
</span><span id="__span-28-5">if re.search(r&quot;^\w+@\w+\.edu$&quot;, email):
</span><span id="__span-28-6">    print(&quot;Valid&quot;)
</span><span id="__span-28-7">else:
</span><span id="__span-28-8">    print(&quot;Invalid&quot;)
</span></code></pre></div></td></tr></table></div>
<p>Notice that <code>\w</code> is the same as <code>[a-zA-Z0-9_]</code>. Thanks, hard-working programmers!</p>
<ul>
<li></li>
</ul>
<p>Here are some additional patterns we can add to our vocabulary:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-29-1">\d    decimal digit
</span><span id="__span-29-2">\D    not a decimal digit
</span><span id="__span-29-3">\s    whitespace characters
</span><span id="__span-29-4">\S    not a whitespace character
</span><span id="__span-29-5">\w    word character, as well as numbers and the underscore
</span><span id="__span-29-6">\W    not a word character
</span></code></pre></div></td></tr></table></div>
<ul>
<li></li>
</ul>
<p>Now, we know that there are not simply</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-30-1">.edu
</span></code></pre></div></td></tr></table></div>
<p>email addresses. We could modify our code as follows:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-31-1">import re
</span><span id="__span-31-2">
</span><span id="__span-31-3">email = input(&quot;What&#39;s your email? &quot;).strip()
</span><span id="__span-31-4">
</span><span id="__span-31-5">if re.search(r&quot;^\w+@\w.+\.(com|edu|gov|net|org)$&quot;, email):
</span><span id="__span-31-6">    print(&quot;Valid&quot;)
</span><span id="__span-31-7">else:
</span><span id="__span-31-8">    print(&quot;Invalid&quot;)
</span></code></pre></div></td></tr></table></div>
<p>Notice that the <code>|</code> has the impact of an <code>or</code> in our expression.</p>
<ul>
<li></li>
</ul>
<p>Adding even more symbols to our vocabulary, here are some more to consider:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-32-1">A|B     either A or B
</span><span id="__span-32-2">(...)   a group
</span><span id="__span-32-3">(?:...) non-capturing version
</span></code></pre></div></td></tr></table></div>
<h2 id="case-sensitivity"><a href="https://cs50.harvard.edu/python/2022/notes/7/#case-sensitivity">Case Sensitivity</a><a class="headerlink" href="#case-sensitivity" title="Permanent link">&para;</a></h2>
<ul>
<li></li>
</ul>
<p>To illustrate how you might address issues around case sensitivity, where there is a difference between</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-33-1">EDU
</span></code></pre></div></td></tr></table></div>
<p>and</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-34-1">edu
</span></code></pre></div></td></tr></table></div>
<p>and the like, let’s rewind our code to the following:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-35-1">import re
</span><span id="__span-35-2">
</span><span id="__span-35-3">email = input(&quot;What&#39;s your email? &quot;).strip()
</span><span id="__span-35-4">
</span><span id="__span-35-5">if re.search(r&quot;^\w+@\w+\.edu$&quot;, email):
</span><span id="__span-35-6">    print(&quot;Valid&quot;)
</span><span id="__span-35-7">else:
</span><span id="__span-35-8">    print(&quot;Invalid&quot;)
</span></code></pre></div></td></tr></table></div>
<p>Notice how we have removed the <code>|</code> statements provided previously.</p>
<ul>
<li>
<p>Recall that within the <code>re.search</code> function, there is a parameter for <code>flags</code>.</p>
</li>
<li></li>
</ul>
<p>Some built-in flag variables are:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-36-1">re.IGNORECASE
</span><span id="__span-36-2">re.MULTILINE
</span><span id="__span-36-3">re.DOTALL
</span></code></pre></div></td></tr></table></div>
<p>Consider how you might use these in your code.</p>
<ul>
<li></li>
</ul>
<p>Therefore, we can change our code as follows.</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-37-1">import re
</span><span id="__span-37-2">
</span><span id="__span-37-3">email = input(&quot;What&#39;s your email? &quot;).strip()
</span><span id="__span-37-4">
</span><span id="__span-37-5">if re.search(r&quot;^\w+@\w+\.edu$&quot;, email, re.IGNORECASE):
</span><span id="__span-37-6">    print(&quot;Valid&quot;)
</span><span id="__span-37-7">else:
</span><span id="__span-37-8">    print(&quot;Invalid&quot;)
</span></code></pre></div></td></tr></table></div>
<p>Notice how we added a third parameter <code>re.IGNORECASE</code>. Running this program with <code>MALAN@HARVARD.EDU</code>, the input is now considered valid.</p>
<ul>
<li>
<p>Consider the following email address <code>malan@cs50.harvard.edu</code>. Using our code above, this would be considered invalid. Why might that be?</p>
</li>
<li>
<p>Since there is an additional <code>.</code>, the program considers this invalid.</p>
</li>
<li></li>
</ul>
<p>It turns out that we can, looking at our vocabulary from before, we can group together ideas.</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-38-1">A|B     either A or B
</span><span id="__span-38-2">(...)   a group
</span><span id="__span-38-3">(?:...) non-caputuring version
</span></code></pre></div></td></tr></table></div>
<ul>
<li></li>
</ul>
<p>We can modify our code as follows:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-39-1">import re
</span><span id="__span-39-2">
</span><span id="__span-39-3">email = input(&quot;What&#39;s your email? &quot;).strip()
</span><span id="__span-39-4">
</span><span id="__span-39-5">if re.search(r&quot;^\w+@(\w+\.)?\w+\.edu$&quot;, email, re.IGNORECASE):
</span><span id="__span-39-6">    print(&quot;Valid&quot;)
</span><span id="__span-39-7">else:
</span><span id="__span-39-8">    print(&quot;Invalid&quot;)
</span></code></pre></div></td></tr></table></div>
<p>Notice how the <code>(\w+\.)?</code> communicates to the compiler that this new expression can be there once or not at all. Hence, both <code>malan@cs50.harvard.edu</code> and <code>malan@harvard.edu</code> are considered valid.</p>
<ul>
<li></li>
</ul>
<p>Interestingly enough, the edits we have done so far to our code do not fully encompass all the checking that could be done to ensure a valid email address. Indeed, here is the full expression that one would have to type to ensure that a valid email is inputted:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-40-1">^[a-zA-Z0-9.!#$%&amp;&#39;*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$
</span></code></pre></div></td></tr></table></div>
<ul>
<li></li>
</ul>
<p>There are other functions within the <code>re</code> library you might find useful. <code>re.match</code> and <code>re.fullmatch</code> are ones you might find exceedingly useful.</p>
<ul>
<li>You can learn more in Python’s documentation of <a href="https://docs.python.org/3/library/re.html">re</a>.</li>
</ul>
<h2 id="cleaning-up-user-input"><a href="https://cs50.harvard.edu/python/2022/notes/7/#cleaning-up-user-input">Cleaning Up User Input</a><a class="headerlink" href="#cleaning-up-user-input" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p>You should never expect your users to always follow your hopes for clean input. Indeed, users will often violate your intentions as a programmer.</p>
</li>
<li>
<p>There are ways to clean up your data.</p>
</li>
<li></li>
</ul>
<p>In the terminal window, type</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-41-1">code format.py
</span></code></pre></div></td></tr></table></div>
<p>. Then, in the text-editor, code as follows:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-42-1">name = input(&quot;What&#39;s your name? &quot;).strip()
</span><span id="__span-42-2">print(f&quot;hello, {name}&quot;)
</span></code></pre></div></td></tr></table></div>
<p>Notice that we have created, essentially, a “hello world” program. Running this program and typing in <code>David</code>, it works well! However, typing in <code>Malan, David</code> notice how the program does not function as intended. How could we modify our program to clean up this input?</p>
<ul>
<li></li>
</ul>
<p>Modify your code as follows.</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-43-1">name = input(&quot;What&#39;s your name? &quot;).strip()
</span><span id="__span-43-2">if &quot;,&quot; in name:
</span><span id="__span-43-3">    last, first = name.split(&quot;, &quot;)
</span><span id="__span-43-4">    name = f&quot;{first} {last}&quot;
</span><span id="__span-43-5">print(f&quot;hello, {name}&quot;)
</span></code></pre></div></td></tr></table></div>
<p>Notice how <code>last, first = name.split(", ")</code> is run if there is a <code>,</code> in the name. Then, the name is standardized as first and last. Running our code, typing in <code>Malan, David</code>, you can see how this program does clean up at least one scenario where a user types in something unexpected.</p>
<ul>
<li></li>
</ul>
<p>You might notice that typing in</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-44-1">Malan,David
</span></code></pre></div></td></tr></table></div>
<p>with no space causes the compiler to throw an error. Since we now know some regular expression syntax, let’s apply that to our code:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-45-1">import re
</span><span id="__span-45-2">
</span><span id="__span-45-3">name = input(&quot;What&#39;s your name? &quot;).strip()
</span><span id="__span-45-4">matches = re.search(r&quot;^(.+), (.+)$&quot;, name)
</span><span id="__span-45-5">if matches:
</span><span id="__span-45-6">    last, first = matches.groups()
</span><span id="__span-45-7">    name = first + &quot; &quot; + last
</span><span id="__span-45-8">print(f&quot;hello, {name}&quot;)
</span></code></pre></div></td></tr></table></div>
<p>Notice that <code>re.search</code> can return a set of matches that are extracted from the user’s input. If matches are returned by <code>re.search</code>. Running this program, typing in <code>David Malan</code> notice how the <code>if</code> condition is not run and the name is returned. If you run the program by typing <code>Malan, David</code>, the name is also returned properly.</p>
<ul>
<li></li>
</ul>
<p>It just so happens that we can request specific groups back using</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-46-1">matches.group
</span></code></pre></div></td></tr></table></div>
<p>. We can modify our code as follows:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-47-1">import re
</span><span id="__span-47-2">
</span><span id="__span-47-3">name = input(&quot;What&#39;s your name? &quot;).strip()
</span><span id="__span-47-4">matches = re.search(r&quot;^(.+), (.+)$&quot;, name)
</span><span id="__span-47-5">if matches:
</span><span id="__span-47-6">    name = matches.group(2) + &quot; &quot; + matches.group(1)
</span><span id="__span-47-7">print(f&quot;hello, {name}&quot;)
</span></code></pre></div></td></tr></table></div>
<p>Notice how, in this implementation, <code>group</code> is not plural (there is no <code>s</code>).</p>
<ul>
<li></li>
</ul>
<p>Our code can be further tightened as follows:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-48-1">import re
</span><span id="__span-48-2">
</span><span id="__span-48-3">name = input(&quot;What&#39;s your name? &quot;).strip()
</span><span id="__span-48-4">matches = re.search(r&quot;^(.+), (.+)$&quot;, name)
</span><span id="__span-48-5">if matches:
</span><span id="__span-48-6">    name = matches.group(2) + &quot; &quot; + matches.group(1)
</span><span id="__span-48-7">print(f&quot;hello, {name}&quot;)
</span></code></pre></div></td></tr></table></div>
<p>Notice how <code>group(2)</code> and <code>group(1)</code> are concatenated together with a space. The first group is that which is left of the comma. The second group is that which is right of the comma.</p>
<ul>
<li></li>
</ul>
<p>Recognize still that typing in</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-49-1">Malan,David
</span></code></pre></div></td></tr></table></div>
<p>with no space will still break our code. Therefore, we can make the following modification:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-50-1">import re
</span><span id="__span-50-2">
</span><span id="__span-50-3">name = input(&quot;What&#39;s your name? &quot;).strip()
</span><span id="__span-50-4">matches = re.search(r&quot;^(.+), *(.+)$&quot;, name)
</span><span id="__span-50-5">if matches:
</span><span id="__span-50-6">    name = matches.group(2) + &quot; &quot; + matches.group(1)
</span><span id="__span-50-7">print(f&quot;hello, {name}&quot;)
</span></code></pre></div></td></tr></table></div>
<p>Notice the addition of the <code>*</code> in our validation statement. This code will now accept and properly process <code>Malan,David</code>. Further, it will properly handle <code>David,Malan</code> with many spaces in front of <code>David</code>.</p>
<ul>
<li></li>
</ul>
<p>It is very common to utilize</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-51-1">re.search
</span></code></pre></div></td></tr></table></div>
<p>as we have in the previous examples, where</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-52-1">matches
</span></code></pre></div></td></tr></table></div>
<p>is on a line of code after. However, we can combine these statements:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-53-1">import re
</span><span id="__span-53-2">
</span><span id="__span-53-3">name = input(&quot;What&#39;s your name? &quot;).strip()
</span><span id="__span-53-4">if matches := re.search(r&quot;^(.+), *(.+)$&quot;, name):
</span><span id="__span-53-5">    name = matches.group(2) + &quot; &quot; + matches.group(1)
</span><span id="__span-53-6">print(f&quot;hello, {name}&quot;)
</span></code></pre></div></td></tr></table></div>
<p>Notice how we combine two lines of our code. The walrus <code>:=</code> operator assigns a value from right to left and allows us to ask a boolean question at the same time. Turn your head sideways and you’ll see why this is called a walrus operator.</p>
<ul>
<li>You can learn more in Python’s documentation of <a href="https://docs.python.org/3/library/re.html">re</a>.</li>
</ul>
<h2 id="extracting-user-input"><a href="https://cs50.harvard.edu/python/2022/notes/7/#extracting-user-input">Extracting User Input</a><a class="headerlink" href="#extracting-user-input" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p>So far, we have validated the user’s input and cleaned up the user’s input.</p>
</li>
<li></li>
</ul>
<p>Now, let’s extract some specific information from user input. In the terminal window, type</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-54-1">code twitter.py
</span></code></pre></div></td></tr></table></div>
<p>and code as follows in the text editor window:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-55-1">url = input(&quot;URL: &quot;).strip()
</span><span id="__span-55-2">print(url)
</span></code></pre></div></td></tr></table></div>
<p>Notice that if we type in <code>https://twitter.com/davidjmalan</code>, it shows exactly what the user typed. However, how would we be able to extract just the username and ignore the rest of the URL?</p>
<ul>
<li></li>
</ul>
<p>You can imagine how we would simply be able to get rid of the beginning of the standard Twitter URL. We can attempt this as follows:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-56-1">url = input(&quot;URL: &quot;).strip()
</span><span id="__span-56-2">
</span><span id="__span-56-3">username = url.replace(&quot;https://twitter.com/&quot;, &quot;&quot;)
</span><span id="__span-56-4">print(f&quot;Username: {username}&quot;)
</span></code></pre></div></td></tr></table></div>
<p>Notice how the <code>replace</code> method allows us to find one item and replace it with another. In this case, we are finding part of the URL and replacing it with nothing. Typing in the full URL <code>https://twitter.com/davidjmalan</code>, the program effectively outputs the username. However, what are some shortcomings of this current program?</p>
<ul>
<li></li>
</ul>
<p>What if the user simply typed</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-57-1">twitter.com
</span></code></pre></div></td></tr></table></div>
<p>instead of including the</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-58-1">https://
</span></code></pre></div></td></tr></table></div>
<p>and the like? You can imagine many scenarios where the user may input or neglect to input parts of the URL that would create strange output by this program. To improve this program, we can code as follows:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-59-1">url = input(&quot;URL: &quot;).strip()
</span><span id="__span-59-2">
</span><span id="__span-59-3">username = url.removeprefix(&quot;https://twitter.com/&quot;)
</span><span id="__span-59-4">print(f&quot;Username: {username}&quot;)
</span></code></pre></div></td></tr></table></div>
<p>Notice how we utilize the <code>removeprefix</code> method. This method will remove the beginning of a string.</p>
<ul>
<li>
<p>Regular expressions simply allow us to succinctly express the patterns and goals.</p>
</li>
<li>
<p>Within the <code>re</code> library, there is a method called <code>sub</code>. This method allows us to substitute a pattern with something else.</p>
</li>
<li></li>
</ul>
<p>The signature of the</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-60-1">sub
</span></code></pre></div></td></tr></table></div>
<p>method is as follows</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-61-1">re.sub(pattern, repl, string, count=0, flags=0)
</span></code></pre></div></td></tr></table></div>
<p>Notice how <code>pattern</code> refers to the regular expression we are looking for. Then, there is a <code>repl</code> string that we can replace the pattern with. Finally, there is the <code>string</code> that we want to do the substitution on.</p>
<ul>
<li></li>
</ul>
<p>Implementing this method in our code, we can modify our program as follows:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-62-1">import re
</span><span id="__span-62-2">
</span><span id="__span-62-3">url = input(&quot;URL: &quot;).strip()
</span><span id="__span-62-4">
</span><span id="__span-62-5">username = re.sub(r&quot;https://twitter.com/&quot;, &quot;&quot;, url)
</span><span id="__span-62-6">print(f&quot;Username: {username}&quot;)
</span></code></pre></div></td></tr></table></div>
<p>Notice how executing this program and inputting <code>https://twitter.com/davidjmalan</code> produces the correct outcome. However, there are some problems still present in our code.</p>
<ul>
<li></li>
</ul>
<p>The protocol, subdomain, and the possibility that the user inputted any part of the URL after the username are all reasons that this code is still not ideal. We can further address these shortcomings as follows:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-63-1">import re
</span><span id="__span-63-2">
</span><span id="__span-63-3">url = input(&quot;URL: &quot;).strip()
</span><span id="__span-63-4">
</span><span id="__span-63-5">username = re.sub(r&quot;^(https?://)?(www\.)?twitter\.com/&quot;, &quot;&quot;, url)
</span><span id="__span-63-6">print(f&quot;Username: {username}&quot;)
</span></code></pre></div></td></tr></table></div>
<p>Notice how the <code>^</code> caret was added to the url. Notice also how the <code>.</code> could be interpreted improperly by the compiler. Therefore, we escape it using a <code>\</code> to make it <code>\.</code> For the purpose of tolerating both <code>http</code> and <code>https</code>, we add a <code>?</code> to the end of <code>https?</code>, making the <code>s</code> optional. Further, to accommodate <code>www</code> we add <code>(www\.)?</code> to our code. Finally, just in case the user decides to leave out the protocol altogether, the <code>http://</code> or <code>https://</code> is made optional using <code>(https?://)</code>.</p>
<ul>
<li>
<p>Still, we are blindly expecting that what the user inputted a url that, indeed, has a username.</p>
</li>
<li></li>
</ul>
<p>Using our knowledge of</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-64-1">re.search
</span></code></pre></div></td></tr></table></div>
<p>, we can further improve our code.</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-65-1">import re
</span><span id="__span-65-2">
</span><span id="__span-65-3">url = input(&quot;URL: &quot;).strip()
</span><span id="__span-65-4">
</span><span id="__span-65-5">matches = re.search(r&quot;^https?://(www\.)?twitter\.com/(.+)$&quot;, url, re.IGNORECASE)
</span><span id="__span-65-6">if matches:
</span><span id="__span-65-7">    print(f&quot;Username:&quot;, matches.group(2))
</span></code></pre></div></td></tr></table></div>
<p>Notice how we are searching for the regular expression above in the string provided by the user. In particular, we are capturing that which appears at the end of the URL using <code>(.+)$</code> regular expression. Therefore, if the user fails to input a URL without a username, no input will be presented.</p>
<ul>
<li></li>
</ul>
<p>Even further tightening up our program, we can utilize our</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-66-1">:=
</span></code></pre></div></td></tr></table></div>
<p>operator as follows:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-67-1">import re
</span><span id="__span-67-2">
</span><span id="__span-67-3">url = input(&quot;URL: &quot;).strip()
</span><span id="__span-67-4">
</span><span id="__span-67-5">if matches := re.search(r&quot;^https?://(?:www\.)?twitter\.com/(.+)$&quot;, url, re.IGNORECASE):
</span><span id="__span-67-6">    print(f&quot;Username:&quot;, matches.group(1))
</span></code></pre></div></td></tr></table></div>
<p>Notice that the <code>?:</code> tells the compiler it does not have to capture what is in that spot in our regular expression.</p>
<ul>
<li></li>
</ul>
<p>Still, we can be more explicit to ensure that the username inputted is correct. Using Twitter’s documentation, we can add the following to our regular expression:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-68-1">import re
</span><span id="__span-68-2">
</span><span id="__span-68-3">url = input(&quot;URL: &quot;).strip()
</span><span id="__span-68-4">
</span><span id="__span-68-5">if matches := re.search(r&quot;^https?://(?:www\.)?twitter\.com/([a-z0-9_]+)&quot;, url, re.IGNORECASE):
</span><span id="__span-68-6">    print(f&quot;Username:&quot;, matches.group(1))
</span></code></pre></div></td></tr></table></div>
<p>Notice that the <code>[a-z0-9_]+</code> tells the compiler to only expect <code>a-z</code>, <code>0-9</code>, and <code>_</code> as part of the regular expression. The <code>+</code> indicates that we are expecting one or more characters.</p>
<ul>
<li>You can learn more in Python’s documentation of <a href="https://docs.python.org/3/library/re.html">re</a>.</li>
</ul>
<h2 id="summing-up"><a href="https://cs50.harvard.edu/python/2022/notes/7/#summing-up">Summing Up</a><a class="headerlink" href="#summing-up" title="Permanent link">&para;</a></h2>
<p>Now, you’ve learned a whole new language of regular expressions that can be utilized to validate, clean up, and extract user input.</p>
<ul>
<li>Regular Expressions</li>
<li>Case Sensitivity</li>
<li>Cleaning Up User Input</li>
<li>Extracting User Input</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Jack Cheng CC-BY-4.0
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/anzchy" target="_blank" rel="noopener" title="GitHub | Jack Cheng" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
    <a href="https://learning.jackcheng.chat/ME/support/" target="_blank" rel="noopener" title="打赏支持" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M96 64c0-17.7 14.3-32 32-32h384c70.7 0 128 57.3 128 128s-57.3 128-128 128h-32c0 53-43 96-96 96H192c-53 0-96-43-96-96zm384 160h32c35.3 0 64-28.7 64-64s-28.7-64-64-64h-32zM32 416h512c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.top", "navigation.indexes", "navigation.expand", "search.suggest", "search.highlight", "content.code.copy", "content.action.edit"], "search": "../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="../../../mkdocs/javascripts/katex.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/contrib/auto-render.min.js"></script>
      
    
  </body>
</html>